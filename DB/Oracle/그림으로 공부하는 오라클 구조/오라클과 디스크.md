### 오라클과 디스크

오라클 입장에서 데이터베이스는 `디스크` 이다. 1장에서는 디스크에 대해서 간략하게 공부했다.

* 왜 디스크 I/O는 느린가?
* 시퀀셜 액세스 (Sequential Access) 와 랜덤 액세스 (Random Access)
* 느린 디스크 I/O, 어떻게 극복할 수 있을까?

#### 왜 디스크 I/O는 느린가

디스크(HDD)가 원하는 데이터를 찾는 동작을 디스크의 구조를 상상하며 생각해보자.

1. 원하는 데이터가 디스크 위 어느 트랙에 있는지 알아내야 한다 (seek)
2. 액추에이터를 상하로 움직이고 디스크가 회전하기를 기다려야한다 (기계적으로 움직인다.)

전기 신호가 아닌 기계적인 동작으로 인해 디스크는 느릴 수 밖에 없다.

#### 시퀀셜 액세스와 랜덤 액세스

* 시퀀셜 액세스 : 시작점부터 마지막까지 중간에 빠트리지 않고 모두 접근 하는 것  (풀 스캔 할때 디스크의 헤드가 움직이지 않고 디스크만 회전하여 연속적으로 데이터에 접근하는 것을 상상하자. 실제로는 그렇지 않다.)
* 랜덤 액세스 : 헤드가 상하로 움직이며 디스크상의 데이터를 띄엄띄엄 접근하는 것 (계속 seek 를 함)

#### 느린 디스크 I/O, 어떻게 극복할 수 있을까?

##### 인덱스
특정 데이터의 위치 (rowid) 를 기록해 놓은 공간 <br>
시퀀셜 액세스가 일어나지 않게 함 (풀 스캔 방지) <br>
캐시가 없다고 가정할때 동작

1. 디스크에서 인덱스를 읽어옴
2. 인덱스에서 rowid를 알아냄
3. rowid를 토대로 데이터의 위치를 알아냄
4. 알아낸 위치를 통해 디스크에 접근해서 데이터를 가져옴



